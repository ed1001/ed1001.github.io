{"ast":null,"code":"var _jsxFileName = \"/Users/Ed/code/ed1001/react-drums/src/components/Box.jsx\";\nimport React from \"react\";\nimport { GridContext } from \"../contexts/GridContext\";\nimport Tone from \"tone\";\nimport GridContainer from \"./GridContainer\";\nimport TransportContainer from \"./TransportContainer\";\nimport BPMContainer from \"./BPMContainer\";\nimport A1 from \"../sounds/RideBell_VintageIndie.wav\";\nimport A2 from \"../sounds/Ride_VintageIndie.wav\";\nimport A3 from \"../sounds/HiHatOpen_VintageIndie.wav\";\nimport A4 from \"../sounds/HiHatClosed_VintageIndie.wav\";\nimport A5 from \"../sounds/Snare_VintageIndie.wav\";\nimport A6 from \"../sounds/XStick_VintageIndie.wav\";\nimport A7 from \"../sounds/Tom_VintageIndie.wav\";\nimport A8 from \"../sounds/Kick_VintageIndie.wav\";\nimport \"../App\";\nexport default class Box extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = drumKit => {\n      this.sequence = new Tone.Sequence((time, index) => {\n        for (let instrument of this.instruments) {\n          if (this.context.instruments[instrument][index]) {\n            this.drumKit.triggerAttack(instrument);\n            if (instrument === \"A4\") this.drumKit.triggerRelease(\"A3\");\n          }\n        }\n\n        console.log(this.context.currentDivision);\n        this.context.setDivision();\n      }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], \"16n\").start(0);\n    };\n\n    this.drumKit = new Tone.Sampler({\n      A1,\n      A2,\n      A3,\n      A4,\n      A5,\n      A6,\n      A7,\n      A8\n    }, {}).toMaster();\n    this.sequence = {};\n    this.instruments = [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\", \"A7\", \"A8\"];\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(TransportContainer, {\n      transport: Tone.Transport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(BPMContainer, {\n      bpm: this.context.bpm,\n      setBpm: this.context.setBpm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(GridContainer, {\n      setGrid: this.setGrid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n  }\n\n}\nBox.contextType = GridContext;","map":{"version":3,"sources":["/Users/Ed/code/ed1001/react-drums/src/components/Box.jsx"],"names":["React","GridContext","Tone","GridContainer","TransportContainer","BPMContainer","A1","A2","A3","A4","A5","A6","A7","A8","Box","Component","constructor","props","componentDidMount","drumKit","sequence","Sequence","time","index","instrument","instruments","context","triggerAttack","triggerRelease","console","log","currentDivision","setDivision","start","Sampler","toMaster","render","Transport","bpm","setBpm","setGrid","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { GridContext } from \"../contexts/GridContext\";\nimport Tone from \"tone\";\n\nimport GridContainer from \"./GridContainer\";\nimport TransportContainer from \"./TransportContainer\";\nimport BPMContainer from \"./BPMContainer\";\n\nimport A1 from \"../sounds/RideBell_VintageIndie.wav\";\nimport A2 from \"../sounds/Ride_VintageIndie.wav\";\nimport A3 from \"../sounds/HiHatOpen_VintageIndie.wav\";\nimport A4 from \"../sounds/HiHatClosed_VintageIndie.wav\";\nimport A5 from \"../sounds/Snare_VintageIndie.wav\";\nimport A6 from \"../sounds/XStick_VintageIndie.wav\";\nimport A7 from \"../sounds/Tom_VintageIndie.wav\";\nimport A8 from \"../sounds/Kick_VintageIndie.wav\";\n\nimport \"../App\";\n\nexport default class Box extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drumKit = new Tone.Sampler(\n      {\n        A1,\n        A2,\n        A3,\n        A4,\n        A5,\n        A6,\n        A7,\n        A8\n      },\n      {}\n    ).toMaster();\n    this.sequence = {};\n    this.instruments = [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\", \"A7\", \"A8\"];\n  }\n\n  static contextType = GridContext;\n\n  componentDidMount = drumKit => {\n    this.sequence = new Tone.Sequence(\n      (time, index) => {\n        for (let instrument of this.instruments) {\n          if (this.context.instruments[instrument][index]) {\n            this.drumKit.triggerAttack(instrument);\n            if (instrument === \"A4\") this.drumKit.triggerRelease(\"A3\");\n          }\n        }\n        console.log(this.context.currentDivision);\n        this.context.setDivision();\n      },\n      [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      \"16n\"\n    ).start(0);\n  };\n\n  render() {\n    return (\n      <div className=\"box\">\n        <TransportContainer transport={Tone.Transport} />\n        <BPMContainer bpm={this.context.bpm} setBpm={this.context.setBpm} />\n        <GridContainer setGrid={this.setGrid} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}